// src/index.js
// @ts-expect-error
const plugin = require('tailwindcss/plugin');

// 自定义 Tailwind 插件
module.exports = plugin(
  // 插件主逻辑：添加组件和颜色
  function ({ addComponents, theme, addBase, addUtilities, addVariant }) {
    addVariant('not-disabled', '&:not(:disabled)');
    addVariant('ihover', '&:not(:disabled):hover');
    addVariant('ifocus', '&:not(:disabled):focus');
    addVariant('ifocus-visible', '&:not(:disabled):focus-visible');
    addVariant('iactive', '&:not(:disabled):active');

    addUtilities({
      // 定义一个"active时添加阴影"的工具类
      '.btn-active-shadow': {
        // 结合已定义的iactive变体（未禁用且active状态）
        '@apply iactive:shadow-btnActiveShadow': {},
      },
      '.btn-focus-visible': {
        '@apply ifocus-visible:shadow-btnFocusVisibleShadow ifocus-visible:border-borderInfo-default':
          {},
      },

      '.btn-disabled': {
        '@apply disabled:cursor-not-allowed disabled:opacity-50': {},
      },
    });
  },
  // 插件主题配置（可选：允许用户在自己的 tailwind.config 中覆盖颜色）
  {
    theme: {
      extend: {
        transitionDuration: {
          DEFAULT: '200ms',
        },
        // 这里定义的变量可以被用户在自己的配置中扩展/覆盖
        colors: {
          bgBase: {
            container: 'var(--bg-base-container)',
            containerSecondary: 'var(--bg-base-container-secondary)',
            layout: 'var(--bg-base-layout)',
            layoutSecondary: 'var(--bg-base-layout-secondary)',
            spotlight: 'var(--bg-base-spotlight)',
            spotlightSecondary: 'var(--bg-base-spotlight-secondary)',
            mask: 'var(--bg-base-mask)',
          },
          bgFillDeep: {
            quinary: 'var(--bg-fill-deep-quinary)',
            quaternary: 'var(--bg-fill-deep-quaternary)',
            tertiary: 'var(--bg-fill-deep-tertiary)',
            secondary: 'var(--bg-fill-deep-secondary)',
            default: 'var(--bg-fill-deep-default)',
          },
          bgFillShallow: {
            quinary: 'var(--bg-fill-shallow-quinary)',
            quaternary: 'var(--bg-fill-shallow-quaternary)',
            tertiary: 'var(--bg-fill-shallow-tertiary)',
            secondary: 'var(--bg-fill-shallow-secondary)',
            default: 'var(--bg-fill-shallow-default)',
          },
          bgPrimary: {
            spotlight: 'var(--bg-primary-spotlight)',
            spotlightSecondary: 'var(--bg-primary-spotlight-secondary)',
            quaternary: 'var(--bg-primary-quaternary)',
            tertiary: 'var(--bg-primary-tertiary)',
            secondary: 'var(--bg-primary-secondary)',
            default: 'var(--bg-primary-default)',
          },
          bgInfo: {
            spotlight: 'var(--bg-info-spotlight)',
            spotlightSecondary: 'var(--bg-info-spotlight-secondary)',
            quaternary: 'var(--bg-info-quaternary)',
            tertiary: 'var(--bg-info-tertiary)',
            secondary: 'var(--bg-info-secondary)',
            default: 'var(--bg-info-default)',
          },
          bgSuccess: {
            spotlight: 'var(--bg-success-spotlight)',
            spotlightSecondary: 'var(--bg-success-spotlight-secondary)',
            quaternary: 'var(--bg-success-quaternary)',
            tertiary: 'var(--bg-success-tertiary)',
            secondary: 'var(--bg-success-secondary)',
            default: 'var(--bg-success-default)',
          },
          bgWarning: {
            spotlight: 'var(--bg-warning-spotlight)',
            spotlightSecondary: 'var(--bg-warning-spotlight-secondary)',
            quaternary: 'var(--bg-warning-quaternary)',
            tertiary: 'var(--bg-warning-tertiary)',
            secondary: 'var(--bg-warning-secondary)',
            default: 'var(--bg-warning-default)',
          },
          bgMagic: {
            spotlight: 'var(--bg-magic-spotlight)',
            spotlightSecondary: 'var(--bg-magic-spotlight-secondary)',
            quaternary: 'var(--bg-magic-quaternary)',
            tertiary: 'var(--bg-magic-tertiary)',
            secondary: 'var(--bg-magic-secondary)',
            default: 'var(--bg-magic-default)',
          },
          bgError: {
            spotlight: 'var(--bg-error-spotlight)',
            spotlightSecondary: 'var(--bg-error-spotlight-secondary)',
            quaternary: 'var(--bg-error-quaternary)',
            tertiary: 'var(--bg-error-tertiary)',
            secondary: 'var(--bg-error-secondary)',
            default: 'var(--bg-error-default)',
          },
          textBase: {
            default: 'var(--text-base-default)',
            secondary: 'var(--text-base-secondary)',
            tertiary: 'var(--text-base-tertiary)',
            quaternary: 'var(--text-base-quaternary)',
            inGrayDefault: 'var(--text-base-in-gray-default)',
            inGraySecondary: 'var(--text-base-in-gray-secondary)',
            inGrayTertiary: 'var(--text-base-in-gray-tertiary)',
            inGrayDisable: 'var(--text-base-in-gray-disable)',
            inColorDefault: 'var(--text-base-in-coloer-default)',
            inColorSecondary: 'var(--text-base-in-coloer-secondary)',
            inColorTertiary: 'var(--text-base-in-coloer-tertiary)',
            inColorDisable: 'var(--text-base-in-coloer-disable)',
          },
          textPrimary: {
            default: 'var(--text-primary-default)',
            defaultHover: 'var(--text-primary-default-hover)',
            secondary: 'var(--text-primary-secondary)',
            tertiary: 'var(--text-primary-tertiary)',
          },
          textInfo: {
            default: 'var(--text-info-default)',
            defaultHover: 'var(--text-info-default-hover)',
            secondary: 'var(--text-info-secondary)',
            tertiary: 'var(--text-info-tertiary)',
          },
          textSuccess: {
            default: 'var(--text-success-default)',
            defaultHover: 'var(--text-success-default-hover)',
            secondary: 'var(--text-success-secondary)',
            tertiary: 'var(--text-success-tertiary)',
          },
          textWarning: {
            default: 'var(--text-warning-default)',
            defaultHover: 'var(--text-warning-default-hover)',
            secondary: 'var(--text-warning-secondary)',
            tertiary: 'var(--text-warning-tertiary)',
          },
          textError: {
            default: 'var(--text-error-default)',
            defaultHover: 'var(--text-error-default-hover)',
            secondary: 'var(--text-error-secondary)',
            tertiary: 'var(--text-error-tertiary)',
          },
          textMagic: {
            default: 'var(--text-magic-default)',
            defaultHover: 'var(--text-magic-default-hover)',
            secondary: 'var(--text-magic-secondary)',
            tertiary: 'var(--text-magic-tertiary)',
          },
          borderBase: {
            default: 'var(--border-base-default)',
            secondary: 'var(--border-base-secondary)',
            tertiary: 'var(--border-base-tertiary)',
            quaternary: 'var(--border-base-quaternary)',
          },
          borderSpecular: {
            default: 'var(--border-specular-default)',
            secondary: 'var(--border-specular-secondary)',
            tertiary: 'var(--border-specular-tertiary)',
            quaternary: 'var(--border-specular-quaternary)',
          },
          borderPrimary: {
            default: 'var(--border-primary-default)',
            secondary: 'var(--border-primary-secondary)',
            tertiary: 'var(--border-primary-tertiary)',
            quaternary: 'var(--border-primary-quaternary)',
          },
          borderInfo: {
            default: 'var(--border-info-default)',
            secondary: 'var(--border-info-secondary)',
            tertiary: 'var(--border-info-tertiary)',
            quaternary: 'var(--border-info-quaternary)',
          },
          borderSuccess: {
            default: 'var(--border-success-default)',
            secondary: 'var(--border-success-secondary)',
            tertiary: 'var(--border-success-tertiary)',
            quaternary: 'var(--border-success-quaternary)',
          },
          borderWarning: {
            default: 'var(--border-warning-default)',
            secondary: 'var(--border-warning-secondary)',
            tertiary: 'var(--border-warning-tertiary)',
            quaternary: 'var(--border-warning-quaternary)',
          },
          borderError: {
            default: 'var(--border-error-default)',
            secondary: 'var(--border-error-secondary)',
            tertiary: 'var(--border-error-tertiary)',
            quaternary: 'var(--border-error-quaternary)',
          },
          effectShadow: {
            default: 'var(--effect-shadow-default)',
            secondary: 'var(--effect-shadow-secondary)',
          },

          brand: {
            50: 'rgba(247, 63, 75, 0.05)',
            100: 'rgba(247, 63, 75, 0.1)',
            150: 'rgba(247, 63, 75, 0.15)',
            250: 'rgba(247, 63, 75, 0.25)',
            400: 'rgba(247, 63, 75, 0.4)',
            500: 'rgba(247, 63, 75, 1)',
            600: 'rgba(255, 88, 99, 1)',
            700: 'rgba(252, 173, 181, 1)',
            800: 'rgba(253, 208, 213, 1)',
            900: 'rgba(254, 231, 234, 1)',
            1000: '',
          },
          white: {
            0: 'rgba(255, 255, 255, 0)',
            30: 'rgba(255, 255, 255, 0.03)',
            50: 'rgba(255, 255, 255, 0.05)',
            100: 'rgba(255, 255, 255, 0.1)',
            150: 'rgba(255, 255, 255, 0.15)',
            200: 'rgba(255, 255, 255, 0.2)',
            250: 'rgba(255, 255, 255, 0.25)',
            300: 'rgba(255, 255, 255, 0.3)',
            400: 'rgba(255, 255, 255, 0.4)',
            500: 'rgba(255, 255, 255, 0.5)',
            600: 'rgba(255, 255, 255, 0.6)',
            700: 'rgba(255, 255, 255, 0.7)',
            800: 'rgba(255, 255, 255, 0.8)',
            900: 'rgba(255, 255, 255, 0.9)',
            1000: 'rgba(255, 255, 255, 1)',
          },
          black: {
            0: 'rgba(0, 0, 0, 0)',
            30: 'rgba(0, 0, 0, 0.03)',
            50: 'rgba(0, 0, 0, 0.05)',
            100: 'rgba(0, 0, 0, 0.1)',
            150: 'rgba(0, 0, 0, 0.15)',
            200: 'rgba(0, 0, 0, 0.2)',
            250: 'rgba(0, 0, 0, 0.25)',
            300: 'rgba(0, 0, 0, 0.3)',
            400: 'rgba(0, 0, 0, 0.4)',
            500: 'rgba(0, 0, 0, 0.5)',
            600: 'rgba(0, 0, 0, 0.6)',
            700: 'rgba(0, 0, 0, 0.7)',
            800: 'rgba(0, 0, 0, 0.8)',
            900: 'rgba(0, 0, 0, 0.9)',
            1000: 'rgba(0, 0, 0, 1)',
          },
          gray: {
            30: 'rgba(15, 17, 24, 0.03)',
            50: 'rgba(15, 17, 24, 0.05)',
            100: 'rgba(15, 17, 24, 0.1)',
            150: 'rgba(15, 17, 24, 0.15)',
            200: 'rgba(15, 17, 24, 0.2)',
            250: 'rgba(15, 17, 24, 0.25)',
            300: 'rgba(15, 17, 24, 0.3)',
            400: 'rgba(15, 17, 24, 0.4)',
            500: 'rgba(15, 17, 24, 0.5)',
            600: 'rgba(15, 17, 24, 0.6)',
            700: 'rgba(15, 17, 24, 0.7)',
            800: 'rgba(15, 17, 24, 0.8)',
            900: 'rgba(15, 17, 24, 0.9)',
            1000: 'rgba(15, 17, 24, 1)',
          },
          pewter: {
            100: 'rgba(249, 249, 251, 1)',
            200: 'rgba(244, 244, 247, 1)',
            300: 'rgba(236, 237, 241, 1)',
            400: 'rgba(155, 157, 167, 1)',
            500: 'rgba(131, 134, 145, 1)',
            600: 'rgba(107, 110, 123, 1)',
            700: 'rgba(85, 89, 100, 1)',
            800: 'rgba(45, 46, 53, 1)',
            900: 'rgba(37, 38, 43, 1)',
            1000: 'rgba(32, 33, 39, 1)',
          },
          green: {
            50: 'rgba(20, 174, 92, 0.05)',
            100: 'rgba(20, 174, 92, 0.1)',
            150: 'rgba(20, 174, 92, 0.15)',
            200: 'rgba(20, 174, 92, 0.2)',
            250: 'rgba(20, 174, 92, 0.25)',
            300: 'rgba(20, 174, 92, 0.3)',
            400: 'rgba(20, 174, 92, 0.4)',
            500: 'rgba(20, 174, 92, 0.5)',
            600: 'rgba(20, 174, 92, 1)',
            700: 'rgba(40, 194, 112, 1)',
            800: 'rgba(135, 220, 175, 1)',
            900: 'rgba(196, 245, 201, 1)',
            1000: 'rgba(235, 255, 238, 1)',
          },
          red: {
            50: 'rgba(220, 40, 70, 0.05)',
            100: 'rgba(220, 40, 70, 0.1)',
            150: 'rgba(220, 40, 70, 0.15)',
            200: 'rgba(220, 40, 70, 0.2)',
            250: 'rgba(220, 40, 70, 0.25)',
            300: 'rgba(220, 40, 70, 0.3)',
            350: 'rgba(220, 40, 70, 0.35)',
            400: 'rgba(220, 40, 70, 0.4)',
            500: 'rgba(220, 40, 70, 0.5)',
            600: 'rgba(220, 40, 70, 1)',
            700: 'rgba(231, 71, 105, 1)',
            800: 'rgba(240, 108, 128, 1)',
            900: 'rgba(246, 162, 180, 1)',
            1000: 'rgba(253, 217, 224, 1)',
          },
          orange: {
            50: 'rgba(236, 103, 31, 0.05)',
            100: 'rgba(236, 103, 31, 0.1)',
            150: 'rgba(236, 103, 31, 0.15)',
            200: 'rgba(236, 103, 31, 0.2)',
            250: 'rgba(236, 103, 31, 0.25)',
            300: 'rgba(236, 103, 31, 0.3)',
            350: 'rgba(236, 103, 31, 0.35)',
            400: 'rgba(236, 103, 31, 0.4)',
            500: 'rgba(236, 103, 31, 0.5)',
            600: 'rgba(236, 103, 31, 1)',
            700: 'rgba(251, 147, 86, 1)',
            800: 'rgba(255, 189, 148, 1)',
            900: 'rgba(253, 221, 208, 1)',
            1000: 'rgba(254, 239, 231, 1)',
          },
          blue: {
            50: 'rgba(20, 116, 242, 0.05)',
            100: 'rgba(20, 116, 242, 0.1)',
            150: 'rgba(20, 116, 242, 0.15)',
            200: 'rgba(20, 116, 242, 0.2)',
            250: 'rgba(20, 116, 242, 0.25)',
            300: 'rgba(20, 116, 242, 0.3)',
            350: 'rgba(20, 116, 242, 0.35)',
            400: 'rgba(20, 116, 242, 0.4)',
            500: 'rgba(20, 116, 242, 0.5)',
            600: 'rgba(20, 116, 242, 1)',
            700: 'rgba(57, 139, 255, 1)',
            800: 'rgba(96, 154, 255, 1)',
            900: 'rgba(160, 193, 255, 1)',
            1000: 'rgba(236, 243, 255, 1)',
          },
          yellow: {
            50: 'rgba(216, 151, 0, 0.05)',
            100: 'rgba(216, 151, 0, 0.1)',
            150: 'rgba(216, 151, 0, 0.15)',
            200: 'rgba(216, 151, 0, 0.2)',
            250: 'rgba(216, 151, 0, 0.25)',
            300: 'rgba(216, 151, 0, 0.3)',
            350: 'rgba(216, 151, 0, 0.35)',
            400: 'rgba(216, 151, 0, 0.4)',
            500: 'rgba(216, 151, 0, 0.5)',
            600: 'rgba(216, 151, 0, 1)',
            700: 'rgba(241, 185, 21, 1)',
            800: 'rgba(247, 206, 83, 1)',
            900: 'rgba(255, 241, 194, 1)',
            1000: 'rgba(255, 251, 235, 1)',
          },

          violet: {
            50: 'rgba(164, 84, 255, 0.05)',
            100: 'rgba(164, 84, 255, 0.1)',
            150: 'rgba(164, 84, 255, 0.15)',
            200: 'rgba(164, 84, 255, 0.2)',
            250: 'rgba(164, 84, 255, 0.25)',
            300: 'rgba(164, 84, 255, 0.3)',
            350: 'rgba(164, 84, 255, 0.35)',
            400: 'rgba(164, 84, 255, 0.4)',
            500: 'rgba(164, 84, 255, 0.5)',
            600: 'rgba(164, 84, 255, 1)',
            700: 'rgba(207, 151, 255, 1)',
            800: 'rgba(230, 186, 255, 1)',
            900: 'rgba(238, 214, 255, 1)',
            1000: 'rgba(247, 236, 255, 1)',
          },
          blueness: {
            50: 'rgba(21, 189, 255, 0.05)',
            100: 'rgba(21, 189, 255, 0.1)',
            150: 'rgba(21, 189, 255, 0.15)',
            200: 'rgba(21, 189, 255, 0.2)',
            250: 'rgba(21, 189, 255, 0.25)',
            300: 'rgba(21, 189, 255, 0.3)',
            350: 'rgba(21, 189, 255, 0.35)',
            400: 'rgba(21, 189, 255, 0.4)',
            500: 'rgba(21, 189, 255, 0.5)',
            600: 'rgba(21, 189, 255, 1)',
            700: 'rgba(74, 204, 255, 1)',
            800: 'rgba(136, 221, 255, 1)',
            900: 'rgba(197, 239, 255, 1)',
            1000: 'rgba(233, 249, 255, 1)',
          },
        },
      },
    },
  },
);
