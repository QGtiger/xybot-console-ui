// src/index.js
// @ts-expect-error
const plugin = require('tailwindcss/plugin');

// 自定义 Tailwind 插件
module.exports = plugin(
  // 插件主逻辑：添加组件和颜色
  function ({ addComponents, theme, addBase, addUtilities, addVariant }) {
    addVariant('not-disabled', '&:not(:disabled)');
    addVariant('ihover', '&:not(:disabled):hover');
    addVariant('ifocus', '&:not(:disabled):focus');
    addVariant('ifocus-visible', '&:not(:disabled):focus-visible');
    addVariant('iactive', '&:not(:disabled):active');

    addUtilities({
      // 定义一个"active时添加阴影"的工具类
      '.btn-active-shadow': {
        // 结合已定义的iactive变体（未禁用且active状态）
        '@apply iactive:shadow-btnActiveShadow': {},
      },
      '.btn-focus-visible': {
        '@apply ifocus-visible:shadow-btnFocusVisibleShadow ifocus-visible:border-borderInfo-default':
          {},
      },

      '.btn-disabled': {
        '@apply disabled:cursor-not-allowed disabled:opacity-50': {},
      },
    });
  },
  // 插件主题配置（可选：允许用户在自己的 tailwind.config 中覆盖颜色）
  {
    theme: {
      extend: {
        transitionDuration: {
          DEFAULT: '200ms',
        },
        // 这里定义的变量可以被用户在自己的配置中扩展/覆盖
        colors: {
          bgBase: {
            container: 'var(--bg-base-container)',
            containerSecondary: 'var(--bg-base-container-secondary)',
            layout: 'var(--bg-base-layout)',
            layoutSecondary: 'var(--bg-base-layout-secondary)',
            spotlight: 'var(--bg-base-spotlight)',
            spotlightSecondary: 'var(--bg-base-spotlight-secondary)',
            mask: 'var(--bg-base-mask)',
          },
          bgFillDeep: {
            quinary: 'var(--bg-fill-deep-quinary)',
            quaternary: 'var(--bg-fill-deep-quaternary)',
            tertiary: 'var(--bg-fill-deep-tertiary)',
            secondary: 'var(--bg-fill-deep-secondary)',
            default: 'var(--bg-fill-deep-default)',
          },
          bgFillShallow: {
            quinary: 'var(--bg-fill-shallow-quinary)',
            quaternary: 'var(--bg-fill-shallow-quaternary)',
            tertiary: 'var(--bg-fill-shallow-tertiary)',
            secondary: 'var(--bg-fill-shallow-secondary)',
            default: 'var(--bg-fill-shallow-default)',
          },
          bgPrimary: {
            spotlight: 'var(--bg-primary-spotlight)',
            spotlightSecondary: 'var(--bg-primary-spotlight-secondary)',
            quaternary: 'var(--bg-primary-quaternary)',
            tertiary: 'var(--bg-primary-tertiary)',
            secondary: 'var(--bg-primary-secondary)',
            default: 'var(--bg-primary-default)',
          },
          bgInfo: {
            spotlight: 'var(--bg-info-spotlight)',
            spotlightSecondary: 'var(--bg-info-spotlight-secondary)',
            quaternary: 'var(--bg-info-quaternary)',
            tertiary: 'var(--bg-info-tertiary)',
            secondary: 'var(--bg-info-secondary)',
            default: 'var(--bg-info-default)',
          },
          bgSuccess: {
            spotlight: 'var(--bg-success-spotlight)',
            spotlightSecondary: 'var(--bg-success-spotlight-secondary)',
            quaternary: 'var(--bg-success-quaternary)',
            tertiary: 'var(--bg-success-tertiary)',
            secondary: 'var(--bg-success-secondary)',
            default: 'var(--bg-success-default)',
          },
          bgWarning: {
            spotlight: 'var(--bg-warning-spotlight)',
            spotlightSecondary: 'var(--bg-warning-spotlight-secondary)',
            quaternary: 'var(--bg-warning-quaternary)',
            tertiary: 'var(--bg-warning-tertiary)',
            secondary: 'var(--bg-warning-secondary)',
            default: 'var(--bg-warning-default)',
          },
          bgMagic: {
            spotlight: 'var(--bg-magic-spotlight)',
            spotlightSecondary: 'var(--bg-magic-spotlight-secondary)',
            quaternary: 'var(--bg-magic-quaternary)',
            tertiary: 'var(--bg-magic-tertiary)',
            secondary: 'var(--bg-magic-secondary)',
            default: 'var(--bg-magic-default)',
          },
          bgError: {
            spotlight: 'var(--bg-error-spotlight)',
            spotlightSecondary: 'var(--bg-error-spotlight-secondary)',
            quaternary: 'var(--bg-error-quaternary)',
            tertiary: 'var(--bg-error-tertiary)',
            secondary: 'var(--bg-error-secondary)',
            default: 'var(--bg-error-default)',
          },
          textBase: {
            default: 'var(--text-base-default)',
            secondary: 'var(--text-base-secondary)',
            tertiary: 'var(--text-base-tertiary)',
            quaternary: 'var(--text-base-quaternary)',
            inGrayDefault: 'var(--text-base-in-gray-default)',
            inGraySecondary: 'var(--text-base-in-gray-secondary)',
            inGrayTertiary: 'var(--text-base-in-gray-tertiary)',
            inGrayDisable: 'var(--text-base-in-gray-disable)',
            inColorDefault: 'var(--text-base-in-coloer-default)',
            inColorSecondary: 'var(--text-base-in-coloer-secondary)',
            inColorTertiary: 'var(--text-base-in-coloer-tertiary)',
            inColorDisable: 'var(--text-base-in-coloer-disable)',
          },
          textPrimary: {
            default: 'var(--text-primary-default)',
            defaultHover: 'var(--text-primary-default-hover)',
            secondary: 'var(--text-primary-secondary)',
            tertiary: 'var(--text-primary-tertiary)',
          },
          textInfo: {
            default: 'var(--text-info-default)',
            defaultHover: 'var(--text-info-default-hover)',
            secondary: 'var(--text-info-secondary)',
            tertiary: 'var(--text-info-tertiary)',
          },
          textSuccess: {
            default: 'var(--text-success-default)',
            defaultHover: 'var(--text-success-default-hover)',
            secondary: 'var(--text-success-secondary)',
            tertiary: 'var(--text-success-tertiary)',
          },
          textWarning: {
            default: 'var(--text-warning-default)',
            defaultHover: 'var(--text-warning-default-hover)',
            secondary: 'var(--text-warning-secondary)',
            tertiary: 'var(--text-warning-tertiary)',
          },
          textError: {
            default: 'var(--text-error-default)',
            defaultHover: 'var(--text-error-default-hover)',
            secondary: 'var(--text-error-secondary)',
            tertiary: 'var(--text-error-tertiary)',
          },
          textMagic: {
            default: 'var(--text-magic-default)',
            defaultHover: 'var(--text-magic-default-hover)',
            secondary: 'var(--text-magic-secondary)',
            tertiary: 'var(--text-magic-tertiary)',
          },
          borderBase: {
            default: 'var(--border-base-default)',
            secondary: 'var(--border-base-secondary)',
            tertiary: 'var(--border-base-tertiary)',
            quaternary: 'var(--border-base-quaternary)',
          },
          borderSpecular: {
            default: 'var(--border-specular-default)',
            secondary: 'var(--border-specular-secondary)',
            tertiary: 'var(--border-specular-tertiary)',
            quaternary: 'var(--border-specular-quaternary)',
          },
          borderPrimary: {
            default: 'var(--border-primary-default)',
            secondary: 'var(--border-primary-secondary)',
            tertiary: 'var(--border-primary-tertiary)',
            quaternary: 'var(--border-primary-quaternary)',
          },
          borderInfo: {
            default: 'var(--border-info-default)',
            secondary: 'var(--border-info-secondary)',
            tertiary: 'var(--border-info-tertiary)',
            quaternary: 'var(--border-info-quaternary)',
          },
          borderSuccess: {
            default: 'var(--border-success-default)',
            secondary: 'var(--border-success-secondary)',
            tertiary: 'var(--border-success-tertiary)',
            quaternary: 'var(--border-success-quaternary)',
          },
          borderWarning: {
            default: 'var(--border-warning-default)',
            secondary: 'var(--border-warning-secondary)',
            tertiary: 'var(--border-warning-tertiary)',
            quaternary: 'var(--border-warning-quaternary)',
          },
          borderError: {
            default: 'var(--border-error-default)',
            secondary: 'var(--border-error-secondary)',
            tertiary: 'var(--border-error-tertiary)',
            quaternary: 'var(--border-error-quaternary)',
          },
          effectShadow: {
            default: 'var(--effect-shadow-default)',
            secondary: 'var(--effect-shadow-secondary)',
          },

          brand: {
            50: 'var(--brand-50)',
            100: 'var(--brand-100)',
            150: 'var(--brand-150)',
            250: 'var(--brand-250)',
            400: 'var(--brand-400)',
            500: 'var(--brand-500)',
            600: 'var(--brand-600)',
            700: 'var(--brand-700)',
            800: 'var(--brand-800)',
            900: 'var(--brand-900)',
            1000: 'var(--brand-1000)',
          },
          white: {
            0: 'var(--white-0)',
            30: 'var(--white-30)',
            50: 'var(--white-50)',
            100: 'var(--white-100)',
            150: 'var(--white-150)',
            200: 'var(--white-200)',
            250: 'var(--white-250)',
            300: 'var(--white-300)',
            400: 'var(--white-400)',
            500: 'var(--white-500)',
            600: 'var(--white-600)',
            700: 'var(--white-700)',
            800: 'var(--white-800)',
            900: 'var(--white-900)',
            1000: 'var(--white-1000)',
          },
          black: {
            0: 'var(--black-0)',
            30: 'var(--black-30)',
            50: 'var(--black-50)',
            100: 'var(--black-100)',
            150: 'var(--black-150)',
            200: 'var(--black-200)',
            250: 'var(--black-250)',
            300: 'var(--black-300)',
            400: 'var(--black-400)',
            500: 'var(--black-500)',
            600: 'var(--black-600)',
            700: 'var(--black-700)',
            800: 'var(--black-800)',
            900: 'var(--black-900)',
            1000: 'var(--black-1000)',
          },
          gray: {
            30: 'var(--gray-30)',
            50: 'var(--gray-50)',
            100: 'var(--gray-100)',
            150: 'var(--gray-150)',
            200: 'var(--gray-200)',
            250: 'var(--gray-250)',
            300: 'var(--gray-300)',
            400: 'var(--gray-400)',
            500: 'var(--gray-500)',
            600: 'var(--gray-600)',
            700: 'var(--gray-700)',
            800: 'var(--gray-800)',
            900: 'var(--gray-900)',
            1000: 'var(--gray-1000)',
          },
          pewter: {
            100: 'var(--pewter-100)',
            200: 'var(--pewter-200)',
            300: 'var(--pewter-300)',
            400: 'var(--pewter-400)',
            500: 'var(--pewter-500)',
            600: 'var(--pewter-600)',
            700: 'var(--pewter-700)',
            800: 'var(--pewter-800)',
            900: 'var(--pewter-900)',
            1000: 'var(--pewter-1000)',
          },
          green: {
            50: 'var(--green-50)',
            100: 'var(--green-100)',
            150: 'var(--green-150)',
            200: 'var(--green-200)',
            250: 'var(--green-250)',
            300: 'var(--green-300)',
            400: 'var(--green-400)',
            500: 'var(--green-500)',
            600: 'var(--green-600)',
            700: 'var(--green-700)',
            800: 'var(--green-800)',
            900: 'var(--green-900)',
            1000: 'var(--green-1000)',
          },
          red: {
            50: 'var(--red-50)',
            100: 'var(--red-100)',
            150: 'var(--red-150)',
            200: 'var(--red-200)',
            250: 'var(--red-250)',
            300: 'var(--red-300)',
            350: 'var(--red-350)',
            400: 'var(--red-400)',
            500: 'var(--red-500)',
            600: 'var(--red-600)',
            700: 'var(--red-700)',
            800: 'var(--red-800)',
            900: 'var(--red-900)',
            1000: 'var(--red-1000)',
          },
          orange: {
            50: 'var(--orange-50)',
            100: 'var(--orange-100)',
            150: 'var(--orange-150)',
            200: 'var(--orange-200)',
            250: 'var(--orange-250)',
            300: 'var(--orange-300)',
            350: 'var(--orange-350)',
            400: 'var(--orange-400)',
            500: 'var(--orange-500)',
            600: 'var(--orange-600)',
            700: 'var(--orange-700)',
            800: 'var(--orange-800)',
            900: 'var(--orange-900)',
            1000: 'var(--orange-1000)',
          },
          blue: {
            50: 'var(--blue-50)',
            100: 'var(--blue-100)',
            150: 'var(--blue-150)',
            200: 'var(--blue-200)',
            250: 'var(--blue-250)',
            300: 'var(--blue-300)',
            350: 'var(--blue-350)',
            400: 'var(--blue-400)',
            500: 'var(--blue-500)',
            600: 'var(--blue-600)',
            700: 'var(--blue-700)',
            800: 'var(--blue-800)',
            900: 'var(--blue-900)',
            1000: 'var(--blue-1000)',
          },
          yellow: {
            50: 'var(--yellow-50)',
            100: 'var(--yellow-100)',
            150: 'var(--yellow-150)',
            200: 'var(--yellow-200)',
            250: 'var(--yellow-250)',
            300: 'var(--yellow-300)',
            350: 'var(--yellow-350)',
            400: 'var(--yellow-400)',
            500: 'var(--yellow-500)',
            600: 'var(--yellow-600)',
            700: 'var(--yellow-700)',
            800: 'var(--yellow-800)',
            900: 'var(--yellow-900)',
            1000: 'var(--yellow-1000)',
          },

          violet: {
            50: 'var(--violet-50)',
            100: 'var(--violet-100)',
            150: 'var(--violet-150)',
            200: 'var(--violet-200)',
            250: 'var(--violet-250)',
            300: 'var(--violet-300)',
            350: 'var(--violet-350)',
            400: 'var(--violet-400)',
            500: 'var(--violet-500)',
            600: 'var(--violet-600)',
            700: 'var(--violet-700)',
            800: 'var(--violet-800)',
            900: 'var(--violet-900)',
            1000: 'var(--violet-1000)',
          },
          blueness: {
            50: 'var(--blueness-50)',
            100: 'var(--blueness-100)',
            150: 'var(--blueness-150)',
            200: 'var(--blueness-200)',
            250: 'var(--blueness-250)',
            300: 'var(--blueness-300)',
            350: 'var(--blueness-350)',
            400: 'var(--blueness-400)',
            500: 'var(--blueness-500)',
            600: 'var(--blueness-600)',
            700: 'var(--blueness-700)',
            800: 'var(--blueness-800)',
            900: 'var(--blueness-900)',
            1000: 'var(--blueness-1000)',
          },
        },
      },
    },
  },
);
